<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>PVC-FREE K2025 contatti e database</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
<script>
// ====== ENV: MODIFICA QUI SE SERVE ======
window.ENV = {
  SUPABASE_URL: "https://cggnkjqmnilnflxaynda.supabase.co",
  SUPABASE_ANON_KEY: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNnZ25ranFtbmlsbmZseGF5bmRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NzI5NjgsImV4cCI6MjA3MjU0ODk2OH0.ndVbgmNmQNJndDEPyb2q2Sy9h0_9PcaIaGvahAn7e2M",
  STORAGE_BUCKET: "contact-images",
  IS_ADMIN: true // per includere "Immagini URL" nell'Excel
};
</script>
<style>
  :root { --bg:#0f172a; --card:#0b1220; --muted:#94a3b8; --accent:#22c55e; --ring:#38bdf8; --text:#e5e7eb; --border:#1f2937; }
  *{box-sizing:border-box} body{margin:0;background:radial-gradient(1200px 1200px at 20% -5%, #0ea5e910, transparent 60%),radial-gradient(1400px 1400px at 120% 10%, #22c55e10, transparent 50%),var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;min-height:100vh}
  header{position:sticky;top:0;z-index:20;background:linear-gradient(180deg,#0f172a,#0f172acc);backdrop-filter:saturate(1.2) blur(6px);border-bottom:1px solid #111827}
  .nav{display:flex;align-items:center;gap:12px;padding:10px 14px;max-width:1200px;margin:0 auto}
  .logo img{height:36px} .brand{display:flex;flex-direction:column}
  .brand h1{font-size:18px;line-height:1.1;margin:0;background:linear-gradient(90deg,#e5e7eb,#93c5fd,#6ee7b7);-webkit-background-clip:text;background-clip:text;color:transparent;font-weight:800}
  .brand small{color:#9ca3af;font-weight:600}
  .nav-actions{margin-left:auto;display:flex;align-items:center;gap:10px}
  .btn{display:inline-flex;gap:8px;align-items:center;justify-content:center;padding:8px 12px;border-radius:12px;border:1px solid #1f2937;background:linear-gradient(180deg,#0f172a,#0b1220);color:#e5e7eb;cursor:pointer;font-weight:600;transition:transform .04s ease,filter .2s ease,box-shadow .2s ease}
  .btn:hover{filter:brightness(1.12)} .btn:active{transform:translateY(1px)}
  .btn-primary{background:linear-gradient(180deg,#22c55e,#16a34a);color:#07110a;border-color:#16a34a;box-shadow:0 6px 20px #22c55e33}
  .btn-outline{background:transparent;border-color:#334155;color:#cbd5e1}
  .container{padding:16px;max-width:1200px;margin:0 auto}
  .grid{display:grid;gap:10px;grid-template-columns:repeat(12,1fr)}
  .card{background:linear-gradient(180deg,#0b1220,#0b1220f0);border:1px solid var(--border);border-radius:16px;box-shadow:0 20px 60px #0006}
  .card-pad{padding:16px}
  .col-12{grid-column:span 12}.col-6{grid-column:span 6}.col-4{grid-column:span 4}.col-3{grid-column:span 3}
  @media (max-width:900px){.col-6,.col-4,.col-3{grid-column:span 12}}
  label{font-size:12px;color:var(--muted);display:block;margin:6px 0}
  input[type="text"],input[type="email"],select,textarea{width:100%;background:#0a0f1d;color:var(--text);border:1px solid #1e293b;border-radius:10px;padding:11px 12px;outline:none;transition:all .2s ease;box-shadow:0 1px 0 #000 inset}
  input[type="text"]:focus,input[type="email"]:focus,select:focus,textarea:focus{border-color:var(--ring);box-shadow:0 0 0 3px #38bdf833}
  textarea{min-height:80px;resize:vertical}
  .tools{display:flex;gap:10px;flex-wrap:wrap;margin:14px 0}
  .table-wrap{margin-top:12px;overflow:auto} table{width:100%;border-collapse:collapse}
  th,td{border-bottom:1px solid #1f2937;padding:10px 8px;text-align:left;vertical-align:top;font-size:14px}
  th{color:#cbd5e1;font-weight:700;position:sticky;top:0;background:#0b1220}
  tr:hover td{background:#0b1220bb}
  .badge{display:inline-flex;gap:6px;align-items:center;padding:2px 8px;border-radius:999px;font-size:12px;border:1px solid #334155;color:#a5b4fc}
  .muted{color:var(--muted)}
  .gate{position:fixed;inset:0;display:none;place-items:center;z-index:100;background:radial-gradient(1200px 1200px at 20% -5%, #0ea5e944, transparent 60%),radial-gradient(1400px 1400px at 120% 10%, #22c55e44, transparent 50%),var(--bg)}
  .gate.open{display:grid}
  .box{width:min(520px,92vw);background:linear-gradient(180deg,#0b1220,#0b1220f0);border:1px solid var(--border);border-radius:18px;padding:16px;box-shadow:0 20px 60px #0007}
  .tabs{display:flex;gap:8px;margin:10px 0}
  .tab{padding:8px 12px;border-radius:10px;border:1px solid #334155;cursor:pointer;color:#e5e7eb;text-decoration:none}
  .tab.active{background:#0b1220;border-color:#22c55e;color:#22c55e}
  .thumbs{display:flex;gap:8px;flex-wrap:wrap} .thumbs img{width:72px;height:72px;object-fit:cover;border-radius:8px;border:1px solid #334155}
  .modal{position:fixed;inset:0;display:none;place-items:center;padding:20px;background:#000a} .modal.open{display:grid}
  .modal-card{background:#0b1220;border:1px solid #1f2937;border-radius:16px;padding:16px;max-width:900px;width:100%;max-height:80vh;overflow:auto;box-shadow:0 30px 80px #0008}
  .modal .thumb{display:flex;flex-direction:column;gap:6px;align-items:flex-start} .modal .thumb img{width:160px;height:160px;border-radius:10px;border:1px solid #334155;object-fit:cover}
  .right{text-align:right}
</style>
</head>
<body>
  <!-- (resto del body invariato, compreso script principale) --><!-- Script esterno per Database Materiali -->
<script src="./materials_section.js"></script>
</body>
</html>
